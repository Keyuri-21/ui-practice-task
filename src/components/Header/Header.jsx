import { useNavigate } from 'react-router-dom';
import { useCart } from '../../context/CartContext';
import './Header.scss';

const Header = () => {
  const { getCartCount } = useCart();
  const navigate = useNavigate();
  const cartCount = getCartCount();
  const handleCartClick = () => {
    navigate('/cart');
  };

  return (
    <div className={'header'}>
      <div className="logo">
        <div className="logo-icon">
          <img src="./logo.png" alt="Green Grocer Logo" />
        </div>
        <div className="logo-text">
          <p>Green Grocer</p>
        </div>
      </div>

      <div className="navigation">
        <a href='/' className="nav-item">Home</a>
        <a className="nav-item">Shop</a>
        <a className="nav-item">About</a>
      </div>

      <div className="search-container">
        <div className="search-box">
          <svg width="19" height="20" viewBox="0 0 19 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M7.91745 0.0247757C3.55154 0.0247757 0 3.91456 0 8.69627C0 13.478 3.55154 17.3678 7.91745 17.3678C9.25211 17.3678 10.5641 17.0209 11.6726 16.352C11.7614 16.469 11.8598 16.5768 11.9667 16.674L14.2288 19.1516C14.4377 19.409 14.6924 19.617 14.9773 19.7627C15.2622 19.9084 15.5713 19.9888 15.8856 19.9989C16.1999 20.009 16.5128 19.9487 16.805 19.8216C17.0973 19.6945 17.3627 19.5033 17.5851 19.2598C17.8074 19.0163 17.982 18.7256 18.098 18.4055C18.214 18.0854 18.2691 17.7428 18.2599 17.3985C18.2506 17.0543 18.1772 16.7157 18.0442 16.4037C17.9112 16.0917 17.7213 15.8127 17.4863 15.5839L15.2241 13.1063C15.1139 12.9856 14.9926 12.8777 14.8622 12.7843C15.473 11.5703 15.8575 10.158 15.8575 8.67149C15.8575 3.88978 12.306 0 7.94007 0L7.91745 0.0247757ZM7.91745 2.50235C11.0618 2.50235 13.5728 5.25245 13.5728 8.69627C13.5728 10.3315 13.0299 11.8428 12.0798 12.9577C12.0571 12.9825 12.0345 13.0072 12.0119 13.032C11.9051 13.1293 11.8066 13.2371 11.7178 13.3541C10.7225 14.3451 9.36521 14.915 7.89483 14.915C4.75047 14.915 2.23951 12.1649 2.23951 8.72104C2.23951 5.27722 4.75047 2.52712 7.89483 2.52712L7.91745 2.50235Z" fill="#8E8E8E" />
          </svg>
          <input type="text" placeholder="search" />
        </div>
      </div>

      <div className="header-actions">
        <div className="action-icons">
          <div className="heart-icon">
            <svg width="29" height="24" viewBox="0 0 29 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M7.03812 0C5.10264 0 3.3783 0.809384 2.07625 2.07625C0.809384 3.34311 0 5.06745 0 7.03812C0 8.97361 0.809384 10.6979 2.07625 12L14.0762 24L26.0762 12C27.3431 10.7331 28.1525 9.0088 28.1525 7.03812C28.1525 5.10264 27.3431 3.3783 26.0762 2.07625C24.8094 0.809384 23.085 0 21.1144 0C19.1789 0 17.4545 0.809384 16.1525 2.07625C14.8856 3.34311 14.0762 5.06745 14.0762 7.03812C14.0762 5.10264 13.2669 3.3783 12 2.07625C10.7331 0.809384 9.0088 0 7.03812 0Z" fill="black" />
            </svg>
          </div>
          <div className="cart-icon" onClick={handleCartClick}>
            <div className="cart-icon-container" >
              <svg width="31" height="25" viewBox="0 0 31 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M1.60178 0.0081792C1.10359 0.0937044 0.657469 0.388069 0.361559 0.826516C0.0656491 1.26496 -0.0558104 1.81158 0.0239 2.34611C0.10361 2.88064 0.377961 3.35931 0.786599 3.6768C1.19524 3.99430 1.70469 4.12462 2.20288 4.03909H7.83816L8.17628 5.04682L9.71659 10.0855L11.2569 15.1241C11.4072 15.6481 12.0458 16.1318 12.5342 16.1318H25.6832C26.2092 16.1318 26.8103 15.6481 26.9606 15.1241L30.0036 5.04682C30.1539 4.5228 29.9285 4.03909 29.4025 4.03909H12.7221L11.2945 1.13684C11.1424 0.803718 10.9076 0.522083 10.616 0.322943C10.3243 0.123804 9.9871 0.0148847 9.64145 0.0081792L2.12774 0.0081792C2.01526 -0.0027264 1.9021 -0.0027264 1.78962 0.0081792C1.71455 0.00333774 1.63928 0.00333774 1.56421 0.0081792L1.60178 0.0081792ZM13.4734 20.1628C12.4215 20.1628 11.595 21.0496 11.595 22.1782C11.595 23.3069 12.4215 24.1937 13.4734 24.1937C14.5254 24.1937 15.3519 23.3069 15.3519 22.1782C15.3519 21.0496 14.5254 20.1628 13.4734 20.1628ZM24.744 20.1628C23.6921 20.1628 22.8656 21.0496 22.8656 22.1782C22.8656 23.3069 23.6921 24.1937 24.744 24.1937C25.7959 24.1937 26.6224 23.3069 26.6224 22.1782C26.6224 21.0496 25.7959 20.1628 24.744 20.1628Z" fill="black" />
              </svg>
              {cartCount > 0 && (
                <span className="cart-badge">{cartCount}</span>
              )}
            </div>
          </div>
        </div>

        <div className="auth-buttons">
          <button className="login-btn">Login</button>
          <button className="signup-btn">Sign up</button>
        </div>
      </div>
    </div>
  );
};

export default Header;